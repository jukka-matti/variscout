---
/**
 * JourneySection - A full-viewport section for the journey scroll experience
 * Each section contains a question, content, and optional chart embed
 */

interface Props {
	id: string;
	pillar: 'AVERAGES' | 'VALUE' | 'CHANGE' | 'FLOW' | 'FAILURE' | 'FIND IT' | 'FIX IT' | 'CHECK IT' | 'CONTINUE';
	question: string;
	number: number;
	class?: string;
}

const { id, pillar, question, number, class: className = '' } = Astro.props;

// Pillar colors
const pillarColors: Record<string, string> = {
	AVERAGES: 'text-neutral-400',
	VALUE: 'text-green-500',
	CHANGE: 'text-blue-500',
	FLOW: 'text-orange-500',
	FAILURE: 'text-red-500',
	'FIND IT': 'text-purple-500',
	'FIX IT': 'text-amber-500',
	'CHECK IT': 'text-teal-500',
	CONTINUE: 'text-brand-primary',
};
---

<section
	id={id}
	class:list={[
		'journey-section min-h-screen flex flex-col justify-center relative',
		className,
	]}
	data-pillar={pillar}
	data-section-number={number}
>
	<div class="container-wide py-16 md:py-24">
		<!-- Section Header -->
		<div class="mb-8 md:mb-12">
			<span class:list={['text-sm font-bold uppercase tracking-widest', pillarColors[pillar]]}>
				{pillar}
			</span>
			<h2 class="text-3xl md:text-5xl font-bold text-white mt-2">
				{question}
			</h2>
		</div>

		<!-- Section Content -->
		<div class="journey-content">
			<slot />
		</div>
	</div>
</section>

<style>
	.journey-section {
		scroll-snap-align: start;
		scroll-snap-stop: always;
	}

	/* Alternating backgrounds for visual rhythm */
	.journey-section:nth-child(odd) {
		background: linear-gradient(180deg, #0f172a 0%, #1e293b 100%);
	}

	.journey-section:nth-child(even) {
		background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
	}
</style>
