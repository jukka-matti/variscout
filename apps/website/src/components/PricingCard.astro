---
import { Check, Info } from "lucide-astro";

interface Props {
	name: string;
	price: string;
	period: string;
	description: string;
	features: string[];
	limitations?: string[];
	cta: { text: string; href: string; external?: boolean };
	ctaNote?: string;
	highlight?: boolean;
	badge?: string;
	whereToGet?: string;
}

const { 
	name, price, period, description, features, limitations = [], 
	cta, ctaNote, highlight = false, badge, whereToGet 
} = Astro.props;
---

<div class={`relative flex flex-col p-6 md:p-8 rounded-2xl border transition-all h-full ${
	highlight 
	? 'bg-white border-brand-primary shadow-xl ring-1 ring-brand-primary' 
	: 'bg-white border-neutral-200 hover:border-neutral-300'
}`}>
	{badge && (
		<div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-brand-primary text-white px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider">
			{badge}
		</div>
	)}

	<div class="mb-8">
		<h3 class="text-xl font-bold text-neutral-900 mb-2">{name}</h3>
		<p class="text-sm text-neutral-500 mb-6">{description}</p>
		<div class="flex items-baseline gap-1">
			<span class="text-4xl font-black text-neutral-900">{price}</span>
			<span class="text-neutral-500 font-medium">{period}</span>
		</div>
		{whereToGet && (
			<p class="mt-4 text-xs font-semibold text-neutral-600 flex items-center gap-1.5 grayscale opacity-70">
				<Info size={14} /> Available via {whereToGet}
			</p>
		)}
	</div>

	<div class="flex-1 space-y-6 mb-8">
		<ul class="space-y-3">
			{features.map((feature) => (
				<li class="flex items-start gap-3 text-sm text-neutral-700">
					<div class="mt-0.5 text-brand-primary">
						<Check size={16} strokeWidth={3} />
					</div>
					<span>{feature}</span>
				</li>
			))}
		</ul>

		{limitations.length > 0 && (
			<div class="pt-4 border-t border-neutral-100">
				<ul class="space-y-3">
					{limitations.map((limit) => (
						<li class="flex items-start gap-3 text-sm text-neutral-400">
							<div class="mt-1 w-1 h-1 rounded-full bg-neutral-300 ml-1.5 mr-0.5"></div>
							<span>{limit}</span>
						</li>
					))}
				</ul>
			</div>
		)}
	</div>

	<div class="space-y-3">
		<a
			href={cta.href}
			target={cta.external ? "_blank" : "_self"}
			rel={cta.external ? "noopener" : undefined}
			class={`btn w-full py-3 ${highlight ? 'btn-primary' : 'btn-secondary'}`}
		>
			{cta.text}
		</a>
		{ctaNote && <p class="text-center text-xs text-neutral-500 italic">{ctaNote}</p>}
	</div>
</div>
