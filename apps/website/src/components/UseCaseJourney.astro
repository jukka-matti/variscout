---
import { getToolBySlug } from "../data/toolsData";

interface JourneyStep {
	step: number;
	tool: string;
	title: string;
	description: string;
	insight: string;
}

interface Props {
	steps: JourneyStep[];
	ahaQuote: string;
	lang: string;
}

const { steps, ahaQuote, lang } = Astro.props;
---

<section class="py-16 bg-neutral-50">
	<div class="container-wide">
		<div class="max-w-3xl">
			<h2 class="text-sm font-bold text-neutral-400 uppercase tracking-wider mb-8">The VaRiScout Journey</h2>

			<div class="space-y-6">
				{steps.map((step) => {
					const tool = getToolBySlug(step.tool);
					return (
						<div class="flex gap-4">
							<div class="shrink-0">
								<div class={`w-10 h-10 rounded-full flex items-center justify-center font-bold text-white ${
									tool?.colorClass?.replace('text-', 'bg-') || 'bg-brand-primary'
								}`}>
									{step.step}
								</div>
							</div>
							<div class="flex-1 pb-6 border-b border-neutral-200 last:border-0 last:pb-0">
								<div class="flex items-center gap-2 mb-1">
									{tool && (
										<a
											href={`/${lang}/tools/${step.tool}`}
											class={`text-xs font-bold uppercase tracking-wider ${tool.colorClass} hover:underline`}
										>
											{tool.name}
										</a>
									)}
								</div>
								<h3 class="font-bold text-lg text-neutral-900 mb-1">{step.title}</h3>
								<p class="text-neutral-600 mb-2">{step.description}</p>
								<p class="text-sm font-medium text-brand-primary">{step.insight}</p>
							</div>
						</div>
					);
				})}
			</div>

			{/* Aha Quote */}
			<div class="mt-8 p-6 bg-neutral-900 text-white rounded-xl">
				<p class="text-sm font-medium text-neutral-400 uppercase tracking-wider mb-2">The Insight</p>
				<p class="text-lg font-medium italic">{ahaQuote}</p>
			</div>
		</div>
	</div>
</section>
