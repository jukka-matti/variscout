---
import BaseLayout from "../../layouts/BaseLayout.astro";
import JourneyProgress from "../../components/JourneyProgress.astro";
import ScrollReveal from "../../components/ScrollReveal.astro";
import LensAnimation from "../../components/LensAnimation";
import { ui } from "../../i18n/ui";

export function getStaticPaths() {
	return Object.keys(ui).map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params;
---

<BaseLayout
	title="See Beyond Averages | VaRiScout Journey"
	description="Discover how averages hide variation. An interactive journey through the four lenses of process knowledge."
>
	<!-- Progress Indicator -->
	<JourneyProgress />

	<!-- ============================================ -->
	<!-- STORY 1: THE VARIATION DETECTIVE (scroll-driven) -->
	<!-- ============================================ -->
	<section id="detective" class="journey-section relative bg-neutral-900" data-pillar="DETECTIVE">
		<LensAnimation client:visible />
	</section>

	<!-- ============================================ -->
	<!-- STORY 2: THE VALUE PERSPECTIVE -->
	<!-- ============================================ -->
	<section id="value-lens" class="journey-section min-h-screen flex flex-col justify-center relative bg-gradient-to-b from-neutral-900 to-slate-900" data-pillar="VALUE">
		<div class="container-wide py-16 md:py-24">
			<ScrollReveal animation="fade-up">
				<div class="max-w-3xl mx-auto text-center">
					<span class="text-sm font-bold uppercase tracking-widest text-green-500">THE VALUE LENS</span>
					<h2 class="text-3xl md:text-5xl font-bold text-white mt-4 mb-8">
						But does it matter to the customer?
					</h2>
					<p class="text-xl text-neutral-300 mb-8">
						The detective found the source. But there's another lens entirely.
					</p>
				</div>
			</ScrollReveal>

			<ScrollReveal animation="fade-up" delay={200}>
				<div class="max-w-3xl mx-auto">
					<div class="bg-green-500/10 border border-green-500/30 rounded-2xl p-8 md:p-12">
						<div class="flex items-start gap-6">
							<div class="w-16 h-16 rounded-2xl bg-green-500/20 flex items-center justify-center flex-shrink-0">
								<svg class="w-8 h-8 text-green-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
									<path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
								</svg>
							</div>
							<div>
								<p class="text-lg text-neutral-300 mb-4">
									CHANGE, FLOW, and FAILURE analyze <span class="text-white font-semibold">internal</span> process behavior &mdash; what the process is doing.
								</p>
								<p class="text-lg text-neutral-300 mb-4">
									The VALUE lens brings in an <span class="text-green-400 font-semibold">external reference</span> &mdash; the customer's specification. It asks a fundamentally different question:
								</p>
								<p class="text-2xl text-white font-bold">
									"Does the variation we found actually matter?"
								</p>
							</div>
						</div>

						<div class="mt-8 grid md:grid-cols-2 gap-4">
							<div class="bg-black/20 rounded-xl p-5">
								<div class="text-sm text-green-400 font-medium mb-2">Capability Histogram</div>
								<p class="text-neutral-400 text-sm">Compares your distribution to customer specs. Shows Cp/Cpk &mdash; are you meeting needs?</p>
							</div>
							<div class="bg-black/20 rounded-xl p-5">
								<div class="text-sm text-green-400 font-medium mb-2">The "So What?" Test</div>
								<p class="text-neutral-400 text-sm">High variation might not matter if it's within spec. Low variation might still fail if the process is off-center.</p>
							</div>
						</div>
					</div>
				</div>
			</ScrollReveal>

			<ScrollReveal animation="fade-up" delay={400}>
				<div class="max-w-xl mx-auto text-center mt-12">
					<p class="text-neutral-400">
						The VALUE lens is a different story &mdash; and it deserves its own case.
					</p>
					<a href={`/${lang}/cases/coffee`} class="inline-flex items-center gap-2 text-green-400 font-medium mt-4 hover:text-green-300 transition-colors">
						See the Coffee Case: spec compliance in action
						<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
						</svg>
					</a>
				</div>
			</ScrollReveal>
		</div>
	</section>

	<!-- ============================================ -->
	<!-- CTA: BUSINESS VALUE + BREADTH -->
	<!-- ============================================ -->
	<section id="business-value" class="journey-section min-h-screen flex flex-col justify-center relative bg-gradient-to-b from-slate-900 to-neutral-900" data-pillar="VALUE">
		<div class="container-wide py-16 md:py-24">
			<!-- ROI examples -->
			<ScrollReveal animation="fade-up">
				<div class="text-center mb-12">
					<span class="text-sm font-bold uppercase tracking-widest text-amber-400">REAL RESULTS</span>
					<h2 class="text-3xl md:text-5xl font-bold text-white mt-4">
						How valuable is this analysis?
					</h2>
				</div>
			</ScrollReveal>

			<ScrollReveal animation="fade-up" delay={200}>
				<div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-4 max-w-5xl mx-auto mb-16">
					<div class="bg-amber-500/10 border border-amber-500/20 rounded-2xl p-6 text-center">
						<p class="text-3xl font-bold text-white mb-1">&euro;180K</p>
						<p class="text-sm text-amber-300">machine purchase avoided</p>
						<p class="text-xs text-neutral-500 mt-2">Machine Utilization case</p>
					</div>
					<div class="bg-amber-500/10 border border-amber-500/20 rounded-2xl p-6 text-center">
						<p class="text-3xl font-bold text-white mb-1">85%</p>
						<p class="text-sm text-amber-300">complaint reduction</p>
						<p class="text-xs text-neutral-500 mt-2">Bottleneck case</p>
					</div>
					<div class="bg-amber-500/10 border border-amber-500/20 rounded-2xl p-6 text-center">
						<p class="text-3xl font-bold text-white mb-1">0.67 &rarr; 1.45</p>
						<p class="text-sm text-amber-300">Cpk improvement</p>
						<p class="text-xs text-neutral-500 mt-2">Process capability</p>
					</div>
					<div class="bg-amber-500/10 border border-amber-500/20 rounded-2xl p-6 text-center">
						<p class="text-3xl font-bold text-white mb-1">46%</p>
						<p class="text-sm text-amber-300">of defects traced to one condition</p>
						<p class="text-xs text-neutral-500 mt-2">Core methodology</p>
					</div>
				</div>
			</ScrollReveal>

			<!-- Industry breadth -->
			<ScrollReveal animation="fade-up" delay={300}>
				<div class="text-center mb-8">
					<h3 class="text-2xl font-bold text-white">What else can you analyze?</h3>
					<p class="text-neutral-400 mt-2">Variation analysis applies everywhere data varies.</p>
				</div>
			</ScrollReveal>

			<ScrollReveal animation="fade-up" delay={400}>
				<div class="grid sm:grid-cols-2 lg:grid-cols-3 gap-4 max-w-5xl mx-auto mb-16">
					<a href={`/${lang}/cases/packaging`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#9881;</div>
						<h4 class="text-lg font-bold text-white mb-1">Manufacturing</h4>
						<p class="text-sm text-neutral-400">Fill weights, cycle times, dimensional accuracy</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Packaging case &rarr;</span>
					</a>
					<a href={`/${lang}/cases/hospital-ward`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#9764;</div>
						<h4 class="text-lg font-bold text-white mb-1">Healthcare</h4>
						<p class="text-sm text-neutral-400">Wait times, bed utilization, staffing variation</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Hospital Ward case &rarr;</span>
					</a>
					<a href={`/${lang}/cases/avocado`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#127793;</div>
						<h4 class="text-lg font-bold text-white mb-1">Agriculture</h4>
						<p class="text-sm text-neutral-400">Crop quality, moisture content, coating uniformity</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Avocado case &rarr;</span>
					</a>
					<a href={`/${lang}/cases/coffee`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#9749;</div>
						<h4 class="text-lg font-bold text-white mb-1">Food & Beverage</h4>
						<p class="text-sm text-neutral-400">Temperature control, spec compliance, shelf life</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Coffee case &rarr;</span>
					</a>
					<a href={`/${lang}/cases/bottleneck`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#128295;</div>
						<h4 class="text-lg font-bold text-white mb-1">Operations</h4>
						<p class="text-sm text-neutral-400">Bottleneck analysis, flow optimization, capacity</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Bottleneck case &rarr;</span>
					</a>
					<a href={`/${lang}/cases/sock-mystery`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-6 transition-all">
						<div class="text-2xl mb-3">&#127891;</div>
						<h4 class="text-lg font-bold text-white mb-1">Training & Education</h4>
						<p class="text-sm text-neutral-400">LSS courses, student projects, experiential learning</p>
						<span class="text-xs text-brand-primary mt-3 block group-hover:underline">Sock Mystery case &rarr;</span>
					</a>
				</div>
			</ScrollReveal>
		</div>
	</section>

	<!-- ============================================ -->
	<!-- PRODUCT CTA -->
	<!-- ============================================ -->
	<section id="products" class="journey-section min-h-[80vh] flex flex-col justify-center relative bg-gradient-to-b from-neutral-900 to-brand-primary/10" data-pillar="PRODUCTS">
		<div class="container-wide py-16 md:py-24">
			<ScrollReveal animation="scale">
				<div class="text-center max-w-4xl mx-auto">
					<h2 class="text-3xl md:text-4xl font-bold text-white mb-4">
						Start finding variation
					</h2>
					<p class="text-xl text-neutral-300 mb-12">
						Your data is hiding opportunity. Let's find it.
					</p>

					<div class="grid md:grid-cols-3 gap-6 mb-12">
						<!-- PWA -->
						<a href="/app" class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-8 transition-all">
							<div class="text-4xl mb-4">&#127760;</div>
							<h3 class="text-xl font-bold text-white mb-2">Web App</h3>
							<span class="text-xs font-semibold text-green-400 bg-green-400/10 px-2 py-0.5 rounded-full">FREE</span>
							<p class="text-neutral-400 text-sm mt-4 mb-4">Training & education tool. Works in your browser.</p>
							<span class="text-brand-primary font-semibold group-hover:underline">Try Free &rarr;</span>
						</a>

						<!-- Excel -->
						<a href="https://appsource.microsoft.com" target="_blank" rel="noopener noreferrer" class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-8 transition-all">
							<div class="text-4xl mb-4">&#128202;</div>
							<h3 class="text-xl font-bold text-white mb-2">Excel Add-in</h3>
							<span class="text-xs font-semibold text-green-400 bg-green-400/10 px-2 py-0.5 rounded-full">FREE</span>
							<p class="text-neutral-400 text-sm mt-4 mb-4">Charts inside your spreadsheet. Core SPC.</p>
							<span class="text-brand-primary font-semibold group-hover:underline">Get Add-in &rarr;</span>
						</a>

						<!-- Azure -->
						<a href={`/${lang}/product/azure`} class="group bg-white/5 hover:bg-white/10 border border-white/10 rounded-2xl p-8 transition-all">
							<div class="text-4xl mb-4">&#127970;</div>
							<h3 class="text-xl font-bold text-white mb-2">Azure App</h3>
							<span class="text-xs font-semibold text-brand-primary bg-brand-primary/10 px-2 py-0.5 rounded-full">&euro;150/month</span>
							<p class="text-neutral-400 text-sm mt-4 mb-4">Full analysis for teams. All features.</p>
							<span class="text-brand-primary font-semibold group-hover:underline">Learn More &rarr;</span>
						</a>
					</div>

					<p class="text-sm text-neutral-500">
						No signup required. Your data stays on your device.
					</p>
				</div>
			</ScrollReveal>
		</div>
	</section>
</BaseLayout>

<style is:global>
	/* Disable snap on reduced motion */
	@media (prefers-reduced-motion: reduce) {
		html {
			scroll-snap-type: none;
		}
	}
</style>
