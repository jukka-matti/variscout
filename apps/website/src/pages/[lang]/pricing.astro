---
import BaseLayout from "../../layouts/BaseLayout.astro";
import PricingCard from "../../components/PricingCard.astro";
import PricingFAQ from "../../components/PricingFAQ.astro";
import { ShieldCheck, Zap, FileText, Lock } from "lucide-astro";
import { ui } from "../../i18n/ui";

export function getStaticPaths() {
  const languages = Object.keys(ui);
  return languages.map((lang) => ({ params: { lang } }));
}

const pricingTiers = [
	{
		name: "Web App",
		price: "€0",
		period: "forever",
		description: "Free training & education tool for quality professionals",
		features: [
			"Core SPC + Green Belt tools",
			"I-Chart, Boxplot, Pareto, Capability",
			"Regression, Gage R&R, ANOVA",
			"16 sample datasets included",
			"Copy-paste from Excel",
			"Works offline after first visit",
		],
		limitations: [
			"Session-only (no save)",
			"Branding on charts",
			"Copy-paste input only",
		],
		cta: { text: "Try Free", href: "/app" },
		ctaNote: "No signup required",
	},
	{
		name: "Excel Add-in",
		price: "€0",
		period: "forever",
		description: "Core SPC charts inside your Excel spreadsheets",
		features: [
			"I-Chart, Boxplot, Pareto, Capability",
			"Analyze data directly in Excel",
			"Save settings in workbook",
			"Works on Windows, Mac, and Web",
		],
		cta: { text: "Get from AppSource", href: "https://appsource.microsoft.com/", external: true },
		ctaNote: "Via Microsoft AppSource",
		whereToGet: "Microsoft AppSource",
	},
	{
		name: "Azure App",
		price: "€150",
		period: "/month",
		description: "Full analysis platform for teams — all features, unlimited users",
		features: [
			"Everything in Web App, plus:",
			"Performance Mode (multi-channel)",
			"File upload (CSV, Excel)",
			"Save & persistence",
			"OneDrive sync",
			"SSO (Azure AD / Entra ID)",
			"No branding on charts",
			"Unlimited team members",
		],
		cta: { text: "Azure Marketplace", href: "https://azuremarketplace.microsoft.com/", external: true },
		ctaNote: "Managed Application",
		whereToGet: "Azure Marketplace",
		highlight: true,
		badge: "Full Power",
	},
];

const faqs = [
	{
		question: "What can I do for free?",
		answer: "Both the Web App and Excel Add-in are free forever. The Web App gives you core SPC plus Green Belt tools (I-Chart, Boxplot, Pareto, Capability, Regression, Gage R&R, ANOVA) with sample datasets and copy-paste input. The Excel Add-in provides core SPC charts (I-Chart, Boxplot, Pareto, Capability) directly in your spreadsheets.",
	},
	{
		question: "What does the Azure App add?",
		answer: "The Azure App unlocks Performance Mode for multi-channel analysis (100+ channels), file upload (CSV/Excel), save and persistence, OneDrive sync, SSO via Azure AD/Entra ID, no branding on charts, and unlimited team members. It's deployed as a Managed Application in your Azure tenant.",
	},
	{
		question: "Where does my data go?",
		answer: "Nowhere. VaRiScout runs entirely in your browser or your Azure tenant. Your data never leaves your device. We don't have servers that see your data — that's by design.",
	},
	{
		question: "Can I use VaRiScout for training?",
		answer: "Yes! The Web App is specifically designed for training and education. It includes 16 sample datasets covering real-world scenarios, works offline after the first visit, and requires no signup. Perfect for Green Belt training, university courses, and self-study.",
	},
	{
		question: "How does €150/month compare to alternatives?",
		answer: "Traditional SPC software like Minitab costs €1,500+ per user per year. VaRiScout Azure App covers unlimited users for €150/month — that's €5/user/month for a team of 30.",
	},
];

const trustBadges = [
	{ icon: ShieldCheck, text: "No signup required" },
	{ icon: Zap, text: "Instant access" },
	{ icon: FileText, text: "Azure Marketplace billing" },
	{ icon: Lock, text: "Your data stays yours" },
];
---

<BaseLayout
	title="VaRiScout Pricing | Two Free Tools + Azure App for Teams"
	description="VaRiScout pricing: Web App and Excel Add-in free forever. Azure App for teams at €150/month with all features."
>
	<section class="py-20 bg-white border-b border-neutral-200">
		<div class="container-wide text-center">
			<h1 class="text-4xl md:text-5xl font-bold mb-6">Simple pricing. <span class="text-brand-primary">Start free.</span></h1>
			<p class="text-xl text-neutral-600 max-w-2xl mx-auto mb-16 italic">
				Two free tools for everyone. Azure App for teams that need more.
			</p>

			<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 text-left">
				{pricingTiers.map((tier) => <PricingCard {...tier} />)}
			</div>

			<p class="text-center text-sm text-neutral-500 mt-8 italic">
				All prices exclude VAT where applicable. Azure App billed through Azure Marketplace.
			</p>
		</div>
	</section>

	<!-- Trust Badges -->
	<section class="py-12 bg-neutral-50 border-b border-neutral-200">
		<div class="container-wide">
			<div class="flex flex-wrap items-center justify-center gap-8 md:gap-16">
				{trustBadges.map((badge) => (
					<div class="flex items-center gap-3 text-neutral-600 grayscale opacity-80">
						<badge.icon size={20} aria-hidden="true" />
						<span class="text-sm font-medium italic">{badge.text}</span>
					</div>
				))}
			</div>
		</div>
	</section>

	<!-- FAQ -->
	<section class="py-24 bg-white">
		<div class="container-wide">
			<h2 class="text-3xl font-bold text-center mb-16">Pricing FAQ</h2>
			<PricingFAQ items={faqs} />
		</div>
	</section>

	<!-- Privacy Callout -->
	<section class="py-20 bg-brand-secondary text-white">
		<div class="container-wide">
			<div class="flex flex-col md:flex-row items-center gap-12 bg-white/5 p-12 rounded-3xl border border-white/10">
				<div class="p-4 bg-brand-primary rounded-2xl text-white shadow-2xl shadow-brand-primary/20">
					<ShieldCheck size={48} />
				</div>
				<div class="flex-1 text-center md:text-left">
					<h2 class="text-2xl font-bold mb-4">Your Data Stays Yours</h2>
					<p class="text-neutral-400 max-w-2xl italic">
						VaRiScout is designed for sensitive operational data. It runs entirely on your side — in your browser, your Excel, or your Azure tenant. We never see your data.
					</p>
				</div>
				<div>
					<a href="/app" class="btn btn-primary px-8 py-3 whitespace-nowrap">Open VaRiScout</a>
				</div>
			</div>
		</div>
	</section>
</BaseLayout>
